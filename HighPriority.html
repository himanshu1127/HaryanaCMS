<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add/View Complaints</title>
    <link rel="stylesheet" href="./Dashboard.css" />
    <link rel="stylesheet" href="./complaints.css" />
    <link rel="stylesheet" href="./addComplaints.css" />

    <script
      src="https://kit.fontawesome.com/ffe2b9fea9.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav id="navbar"></nav>
    <div id="main">
      <div class="sidebar">
        <!--  -->
      </div>
      <div id="table">
        <div
          style="
            height: 80px;
            display: flex;
            /* border: 1px solid red; */
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            font-size: 12px;
          "
        >
          <div
            style="
              align-items: center;
              display: flex;
              width: 100%;
              justify-content: space-between;
            "
          >
            <div>
              <select
                name=""
                id="rangesFilter"
                style="border: none; outline: none"
                onchange="rangeFilter()"
              >
                <option value="">Select Range</option>
                <!-- <option value="DISPOSED">Gurugram</option> -->
              </select>
            </div>
            <div>
              <select
                name=""
                id="districtFilter"
                style="border: none; outline: none"
                disabled
                onchange="districtFilter()"
              >
                <option value="">Select District</option>
              </select>
            </div>
            <div>
              <select
                name=""
                id="stationFilter"
                style="border: none; outline: none"
                disabled
                onchange="stationFilter()"
              >
                <option value="">Select Station</option>
              </select>
            </div>
            <div style="display: flex">
              <span>Total Complaints : &nbsp; </span>
              <p id="totalComplaints" style="color: blue">0</p>
            </div>
            <!-- <div style="display: flex">
              <span>Pending Complaints : &nbsp; </span>
              <p style="color: blue">224</p>
            </div> -->
            <!-- <div style="display: flex">
              <span>DISPOSED Complaints : &nbsp; </span>
              <p style="color: blue">224</p>
            </div> -->
            <div style="display: flex; width: 120px; height: 60px">
              <button id="addComp">Add Complaints</button>
            </div>
          </div>
        </div>
        <div id="tableDiv">
          <table border="1" class="table">
            <thead class="tableHead">
              <tr class="trHead">
                <th class="thHead thHead1">Tracking Id</th>
                <!-- <th class="thHead thHead2">Category</th> -->
                <th class="thHead thHead3">Complainant Name</th>
                <th class="thHead thHead9">Category</th>
                <th class="thHead thHead4">Issued Date</th>
                <th class="thHead thHead5">Deadline</th>
                <th class="thHead thHead6">Area</th>
                <th class="thHead">Flaging</th>
                <!-- <th class="thHead thHead7">Status</th> -->
                <th class="thHead thHead8">Action</th>
              </tr>
            </thead>
            <tbody class="tableBody"></tbody>
          </table>
        </div>
      </div>
    </div>
    <form id="addComplainForm" onsubmit="addComplain(event)">
      <div class="displayAddComp">
        <div class="addComp">
          <div>
            <div class="upperDivAddComp">
              <h3 class="h3AddComp">Add Complaints</h3>
              <div class="closeIcon">
                <div class="line1"></div>
                <div class="line2"></div>
              </div>
            </div>
          </div>

          <div class="divComplaints">
            <div class="complaintsContent">
              <div class="">
                <label class="complaintsFormLabel"
                  >Complaint Number: <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantNumber"
                    placeholder="Complaint Number"
                    class="complaintsInput"
                    required
                    readonly
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel"
                  >Complainant Name: <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantName"
                    placeholder="Complainant Name"
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel"
                  >Father's Name : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    required
                    id="fatherName"
                    placeholder="Father's Name"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel"
                  >Email ID: <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="complainantEmail"
                    placeholder="Email"
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="addressLine1andMobileDiv">
              <div class="complaintsAddressDiv">
                <label class="complaintsFormLabel"
                  >Address Line 1 <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="address"
                    placeholder="Address Line 1"
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>
              <div class="complaintPhoneDiv">
                <label class="complaintsFormLabel"
                  >Mobile Number. : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="tel"
                    name=""
                    id="mobileNo"
                    placeholder="Phone Number"
                    class="complaintsInput"
                    minlength="10"
                    maxlength="10"
                    pattern="[0-9]{10}"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="complaintsContentDivtopLeft contentDiv">
              <div class="complaintsAddressDiv">
                <label class="complaintsFormLabel">Address Line 2</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="addressLine1"
                    placeholder="Address Line 2"
                    class="complaintsInput"
                  />
                </div>
              </div>
              <div class="complaintPhoneDiv">
                <label class="complaintsFormLabel">Alternate Number. :</label>
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="alternateNumber"
                    pattern="[0-9]{10}"
                    minlength="10"
                    maxlength="10"
                    placeholder="Alternate Number"
                    class="complaintsInput"
                  />
                </div>
              </div>
            </div>
            <div class="cityandState">
              <div class="">
                <label class="complaintsFormLabel"
                  >City : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="text"
                    name=""
                    id="cityInput"
                    placeholder="City"
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>
              <div class="">
                <label class="complaintsFormLabel"
                  >State : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="stateInput"
                    class="complaintsInput"
                    disabled
                  >
                    <option value="HARYANA">HARYANA</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="rangeAndSP">
              <div class="">
                <label class="complaintsFormLabel"
                  >Range : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="rangeInput"
                    class="complaintsInput"
                    required
                  >
                    <option value="">Select Range</option>
                  </select>
                </div>
              </div>
              <div class="">
                <label class="complaintsFormLabel"
                  >District : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="district"
                    class="complaintsInput"
                    required
                  >
                    <option value="select">Select District</option>
                  </select>
                </div>
              </div>

              <div>
                <label class="complaintsFormLabel"
                  >Status : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="complainStatus"
                    class="complaintsInput"
                    required
                  >
                    <option value="PENDING">PENDING</option>
                    <option value="IN-PROCESS">IN-PROCESS</option>
                    <option value="DISPOSED">DISPOSED</option>
                    <option value="OVERDUE">OVERDUE</option>
                    <option value="REJECTED">REJECTED</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="complaintsText">
              <div class="">
                <label class="complaintsFormLabel"
                  >Complaint Short Description
                  <span class="required">*</span></label
                >
                <div class="complaintsTextArea">
                  <textarea
                    type="text"
                    name=""
                    id="shortDescription"
                    placeholder="Complaint Short Description"
                    class="p-2 mr-2 border-2 rounded w-full h-44"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="complaintsText bottomDiv">
              <div class="m-5 flex-1">
                <label class="complaintsFormLabel"
                  >Date of Submission <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="date"
                    name=""
                    id="dateOfSub"
                    placeholder=""
                    class="complaintsInput"
                    required
                  />
                </div>
              </div>

              <div class="highPriorityCheckDiv">
                <div class="complaintContnetDivLeftTop">
                  <input type="checkbox" name="priority" id="highPriority" />
                </div>
                <label for="priority">High Priority</label>
              </div>
            </div>

            <div class="specialDiv">
              <div>
                <label class="complaintsFormLabel"
                  >Complaints Category : <span class="required">*</span></label
                >
                <div class="complaintContnetDivLeftTop">
                  <select
                    name=""
                    id="complainCategory"
                    class="complaintsInput"
                    required
                  ></select>
                </div>
              </div>
              <div>
                <label class="complaintsFormLabel" for="sections"
                  >ACT : <span class="required">*</span></label
                >
                <select
                  name=""
                  id="act"
                  class="complaintsInput"
                  required
                ></select>
              </div>
              <div>
                <label class="complaintsFormLabel">Sections :</label>
                <div class="complaintContnetDivLeftTop">
                  <textarea name="" id="" cols="30" rows="5"></textarea>
                </div>
              </div>
            </div>
            <div class="filesDiv">
              <p>Upload Files</p>
              <div class="specialDivInner">
                <div class="complaintContnetDivLeftTop">
                  <input
                    type="file"
                    name=""
                    id="inputFiles"
                    placeholder="Special Remark"
                    class="complaintsInput"
                    multiple
                  />
                  <div id="inputFilesText"></div>
                </div>
              </div>
            </div>
            <br />
            <input type="submit" value="Add" class="addButton" />
          </div>
        </div>
      </div>
    </form>

    <div class="displayUpdateComp"></div>
    <div class="displayViewComp"></div>
    <div class="commentDiv"></div>
  </body>
  <script src="./function.js"></script>
  <script src="./addComplain.js"></script>
  <!-- <script src="./updateComplain.js"></script> -->
  <!-- <script src="./filter.js"></script> -->
</html>
<!-- <script>
  const fileInput = document.getElementById("inputFiles");
  const fileNamesElement = document.getElementById("fileNames");
  let inputFiles = [];
  fileInput.addEventListener("change", function () {
    // Get the selected files
    const files = fileInput.files;
    console.log(files);
    inputFiles.push(files);
    console.log(inputFiles);
    // Update the label text with the selected file names
    // let fileNames = "";
    // for (let i = 0; i < files.length; i++) {
    //   const file = files[i];
    //   fileNames += file.name + "<br>";
    // }
    // fileNamesElement.innerHTML = fileNames;
  });
</script> -->
<script type="module">
  import {
    a,
    complain,
    currentUser,
    visitorComplain,
    IO,
    Ranges,
    category,
    currentRange,
    currentDistrict,
    currentPoliceStation,
    districts,
    act,
    SP,
    DSP,
    SHO,
    policeStations,
    today,
    priority,
    pending,
    disposed,
    pendHigh,
  } from "./Components/GetData.js";
  import sidebar from "./Components/Sidebar.js";
  import navbar from "./Components/Navbar.js";
  import {
    updateComplain,
    viewComplain,
    comments,
  } from "./Components/Complain.js";

  document.querySelector(".displayUpdateComp").innerHTML = updateComplain();
  let updateComp = document.querySelector(".closeIconUpdate");
  updateComp.addEventListener("click", function () {
    let compUpdate = document.querySelector(".displayUpdateComp");
    compUpdate.classList.toggle("activeUpdateComp");
    // console.log("hi");
  });
  document.querySelector(".displayViewComp").innerHTML = viewComplain();
  let ViewComp = document.querySelector(".closeIconView");
  ViewComp.onclick = function () {
    let compUpdate = document.querySelector(".displayViewComp");
    compUpdate.classList.toggle("activeUpdateComp");
  };

  document.querySelector(".commentDiv").innerHTML = comments();
  let closeIconComment = document.querySelector(".closeIconComment");
  closeIconComment.addEventListener("click", () => {
    commentDiv.classList.toggle("activecommentDiv");
  });

  document.querySelector("#navbar").innerHTML = navbar();

  document.querySelector(".sidebar").innerHTML = sidebar();

  let profileImageDiv = document.querySelector(".profileImageDiv");

  let profileOptionDiv = document.querySelector(".profileOptionDiv");

  profileImageDiv.onclick = function () {
    profileOptionDiv.classList.toggle("active");
  };
  let hemb = document.getElementById("hemb");
  let sidebar1 = document.querySelector(".sidebar");
  hemb.onclick = function () {
    sidebar1.classList.toggle("activeSidebar");
  };
  let app = async () => {
    await a();
    console.log(currentUser);
    complainData = priority;
    user = currentUser;
    // range
    appendrangeInput(Ranges);
    appendrangeInputUpdate(Ranges);
    appendrangeInputView1(Ranges);
    appendrangesFilter(Ranges);
    // district
    appenddistrict(districts);
    appendDistrict(districts);
    appendDistrictView1(districts);
    appenddistrictFilter(districts);
    // station
    appendstationFilter(policeStations);
    // category & act
    appendcomplainCategory(category);
    appendAct(act);
    appendcomplainCategoryUpdate(category);
    appendActUpdate(act);
    appendcomplainCategoryView(category);
    appendActView(act);
    // append
    append(priority);
  };

  // range
  let appendrangeInput = (data) => {
    let rangeInput = document.getElementById("rangeInput");
    rangeInput.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      // console.log(option)
      rangeInput.append(option);
    });
  };

  let appendrangeInputUpdate = (data) => {
    let rangeInputUpdate = document.getElementById("rangeInputUpdate");
    rangeInputUpdate.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      // console.log(option)
      rangeInputUpdate.append(option);
    });
  };
  let appendrangeInputView1 = (data) => {
    let rangeInputView1 = document.getElementById("rangeInputView1");
    rangeInputView1.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      // console.log(option)
      rangeInputView1.append(option);
    });
  };
  let appendrangesFilter = (data) => {
    let rangesFilter = document.getElementById("rangesFilter");
    // rangesFilter.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeName;
      option.value = el.rangeName;
      // console.log(option)
      rangesFilter.append(option);
    });
  };
  // district
  const appenddistrict = (data) => {
    let district = document.getElementById("district");
    district.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeDistrictName;
      option.value = el.rangeDistrictName;
      // console.log(option)
      district.append(option);
    });
  };
  const appendDistrict = (data) => {
    let DistrictUpdate1 = document.getElementById("DistrictUpdate1");
    DistrictUpdate1.innerHTML = null;

    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeDistrictName;
      option.value = el.rangeDistrictName;
      // console.log(option)
      DistrictUpdate1.append(option);
    });
  };
  const appendDistrictView1 = (data) => {
    let DistrictView1 = document.getElementById("DistrictView1");
    DistrictView1.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeDistrictName;
      option.value = el.rangeDistrictName;
      // console.log(option)
      DistrictView1.append(option);
    });
  };
  const appenddistrictFilter = (data) => {
    let districtFilter = document.getElementById("districtFilter");
    // districtFilter.innerHTML = null;
    data.map((el) => {
      // console.log(el)
      let option = document.createElement("option");
      option.innerText = el.rangeDistrictName;
      option.value = el.rangeDistrictName;
      // console.log(option)
      districtFilter.append(option);
    });
  };

  // station
  let appendstationFilter = (data) => {
    let stationFilter = document.getElementById("stationFilter");
    // stationFilter.innerHTML = null;

    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.policeStationName;
      option.value = el.policeStationName;
      stationFilter.append(option);
    });
  };
  let appendcomplainCategory = (data) => {
    let complainCategory = document.getElementById("complainCategory");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.categoryName;
      option.value = el.categoryName;
      complainCategory.append(option);
    });
  };
  let appendAct = (data) => {
    let act = document.getElementById("act");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.actName;
      option.value = el.actName;
      act.append(option);
    });
  };
  let appendcomplainCategoryUpdate = (data) => {
    let complainCategoryUpdate = document.getElementById(
      "complainCategoryUpdate"
    );
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.categoryName;
      option.value = el.categoryName;
      complainCategoryUpdate.append(option);
    });
  };
  let appendActUpdate = (data) => {
    let actUpdate = document.getElementById("actUpdate");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.actName;
      option.value = el.actName;
      actUpdate.append(option);
    });
  };
  let appendcomplainCategoryView = (data) => {
    let complainCategoryView = document.getElementById("complainCategoryView");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.categoryName;
      option.value = el.categoryName;
      complainCategoryView.append(option);
    });
  };
  let appendActView = (data) => {
    let actView = document.getElementById("actView");
    console.log(data);
    data.map((el) => {
      let option = document.createElement("option");
      option.innerText = el.actName;
      option.value = el.actName;
      actView.append(option);
    });
  };
  app();
</script>
